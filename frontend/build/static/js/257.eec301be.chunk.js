/*! For license information please see 257.eec301be.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkemail_responder_frontend=self.webpackChunkemail_responder_frontend||[]).push([[257],{7:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]])},1360:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2105:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},4265:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},4830:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},6257:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(5043),r=s(4830),n=s(7365),l=s(1360);const i=(0,s(1639).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var o=s(7),c=s(4265),d=s(9855),p=s(2105),m=s(3768),x=s(6213),u=s(6656),h=s(579);const y="https://6464b8e1-a5e1-4bb7-b2f5-42bbc07856fb.preview.emergentagent.com",f=()=>{const[e,t]=(0,a.useState)([]),[s,f]=(0,a.useState)(!0),[g,b]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!1),[k,A]=(0,a.useState)(null),[_,C]=(0,a.useState)(""),[E,S]=(0,a.useState)(""),[P,z]=(0,a.useState)(!1),[M,T]=(0,a.useState)({name:"",description:"",prompt_text:"",prompt_type:"general",temperature:.7,max_tokens:1e3,is_active:!0,is_default:!1}),$=[{value:"general",label:"General AI Behavior"},{value:"intent_classification",label:"Intent Classification"},{value:"response_generation",label:"Response Generation"},{value:"response_verification",label:"Response Verification"},{value:"personalization",label:"Personalization"}],D={general:"You are a professional AI assistant that helps with email communication. Always be:\n- Professional and courteous\n- Clear and concise\n- Helpful and informative\n- Respectful of the recipient's time",intent_classification:"You are an expert email intent classifier. Your job is to analyze incoming emails and classify them into specific intents.\n\nGuidelines:\n- Analyze the email content and subject line carefully\n- Look for multiple intents in a single email\n- Assign confidence scores based on clarity of intent\n- Consider context and tone\n- Return results in valid JSON format",response_generation:"You are an expert email response generator. Create professional, personalized responses that:\n- Address all points mentioned in the original email\n- Use appropriate tone and style\n- Include relevant personalization\n- Maintain conversation context\n- End with appropriate call-to-action",response_verification:"You are a quality assurance expert for email responses. Evaluate responses for:\n- Accuracy and relevance\n- Professional tone\n- Appropriate personalization\n- Context alignment\n- Overall quality and effectiveness",personalization:"You are a personalization expert. Enhance email content by:\n- Using prospect's name and company appropriately\n- Adding relevant industry insights\n- Incorporating job-title specific language\n- Including location-based references when relevant\n- Making content more compelling and targeted"};(0,a.useEffect)(()=>{I()},[]);const I=async()=>{try{const e=await x.A.get(`${y}/api/system-prompts`);t(e.data)}catch(e){console.error("Error fetching prompts:",e),m.Ay.error("Failed to load system prompts")}finally{f(!1)}},q=async()=>{if(_.trim()){z(!0);try{const e=await x.A.post(`${y}/api/system-prompts/${k.id}/test`,{input:_,temperature:k.temperature,max_tokens:k.max_tokens});S(e.data.result)}catch(s){var e,t;console.error("Error testing prompt:",s),m.Ay.error("Failed to test prompt"),S("Error: "+((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||s.message))}finally{z(!1)}}else m.Ay.error("Please enter test input")},F=async()=>{try{await x.A.post(`${y}/api/system-prompts/create-defaults`),m.Ay.success("Default prompts created successfully"),I()}catch(e){console.error("Error creating defaults:",e),m.Ay.error("Failed to create default prompts")}},V=()=>{T({name:"",description:"",prompt_text:"",prompt_type:"general",temperature:.7,max_tokens:1e3,is_active:!0,is_default:!1})},Y=e=>{let{show:t,onClose:s,onSubmit:a,title:r,isEdit:n=!1}=e;return(0,u.A)(s,t),t?(0,h.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,h.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,h.jsx)("h2",{className:"text-xl font-bold",children:r}),(0,h.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,h.jsxs)("form",{onSubmit:a,className:"space-y-4",children:[(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Name"}),(0,h.jsx)("input",{type:"text",value:M.name,onChange:e=>T({...M,name:e.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Prompt Type"}),(0,h.jsx)("select",{value:M.prompt_type,onChange:e=>{T({...M,prompt_type:e.target.value})},className:"w-full px-3 py-2 border rounded-md",children:$.map(e=>(0,h.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description"}),(0,h.jsx)("input",{type:"text",value:M.description,onChange:e=>T({...M,description:e.target.value}),className:"w-full px-3 py-2 border rounded-md"})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,h.jsx)("label",{className:"block text-sm font-medium",children:"Prompt Text"}),(0,h.jsx)("button",{type:"button",onClick:()=>(e=>{var t;T({...M,prompt_text:D[e]||"",name:M.name||`Default ${null===(t=$.find(t=>t.value===e))||void 0===t?void 0:t.label}`,description:M.description||`Default system prompt for ${e}`})})(M.prompt_type),className:"text-sm text-blue-600 hover:text-blue-800",children:"Load Default Template"})]}),(0,h.jsx)("textarea",{value:M.prompt_text,onChange:e=>T({...M,prompt_text:e.target.value}),onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),e.target===document.activeElement&&M.prompt_text.trim()||s())},rows:12,className:"w-full px-3 py-2 border rounded-md font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",required:!0,placeholder:"Enter your system prompt here...",autoComplete:"off",spellCheck:"false"})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Temperature"}),(0,h.jsx)("input",{type:"number",step:"0.1",min:"0",max:"2",value:M.temperature,onChange:e=>T({...M,temperature:parseFloat(e.target.value)}),className:"w-full px-3 py-2 border rounded-md"}),(0,h.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Higher values = more creative, lower = more deterministic"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Max Tokens"}),(0,h.jsx)("input",{type:"number",min:"50",max:"4000",value:M.max_tokens,onChange:e=>T({...M,max_tokens:parseInt(e.target.value)}),className:"w-full px-3 py-2 border rounded-md"}),(0,h.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum response length"})]})]}),(0,h.jsxs)("div",{className:"flex space-x-4",children:[(0,h.jsxs)("label",{className:"flex items-center",children:[(0,h.jsx)("input",{type:"checkbox",checked:M.is_active,onChange:e=>T({...M,is_active:e.target.checked}),className:"mr-2"}),"Active"]}),(0,h.jsxs)("label",{className:"flex items-center",children:[(0,h.jsx)("input",{type:"checkbox",checked:M.is_default,onChange:e=>T({...M,is_default:e.target.checked}),className:"mr-2"}),"Set as default for this type"]})]}),(0,h.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,h.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 border rounded-md hover:bg-gray-50",children:"Cancel"}),(0,h.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[n?"Update":"Add"," Prompt"]})]})]})]})}):null},L=e=>{let{show:t,onClose:s,prompt:a}=e;return(0,u.A)(s,t),t&&a?(0,h.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,h.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,h.jsxs)("h2",{className:"text-xl font-bold",children:["Test Prompt: ",a.name]}),(0,h.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Test Input"}),(0,h.jsx)("textarea",{value:_,onChange:e=>C(e.target.value),onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),e.target===document.activeElement&&_.trim()||s())},rows:4,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:"Enter your test input here...",autoComplete:"off",spellCheck:"false"})]}),(0,h.jsx)("div",{children:(0,h.jsxs)("button",{onClick:q,disabled:P,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[(0,h.jsx)(r.A,{className:"w-4 h-4"}),(0,h.jsx)("span",{children:P?"Testing...":"Test Prompt"})]})}),E&&(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Result"}),(0,h.jsx)("div",{className:"bg-gray-100 p-4 rounded-md",children:(0,h.jsx)("pre",{className:"whitespace-pre-wrap text-sm",children:E})})]})]})]})}):null};return s?(0,h.jsx)("div",{className:"p-6",children:(0,h.jsxs)("div",{className:"animate-pulse",children:[(0,h.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,h.jsxs)("div",{className:"space-y-3",children:[(0,h.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,h.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,h.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]})]})}):(0,h.jsxs)("div",{className:"p-6",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"System Prompts"}),(0,h.jsx)("p",{className:"text-gray-600",children:"Configure AI behavior and response patterns"})]}),(0,h.jsxs)("div",{className:"flex space-x-3",children:[(0,h.jsxs)("button",{onClick:F,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2",children:[(0,h.jsx)(n.A,{className:"w-4 h-4"}),(0,h.jsx)("span",{children:"Create Defaults"})]}),(0,h.jsxs)("button",{onClick:()=>b(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,h.jsx)(l.A,{className:"w-4 h-4"}),(0,h.jsx)("span",{children:"Add Prompt"})]})]})]}),(0,h.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(e=>{var t;return(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[(0,h.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center space-x-2",children:[(0,h.jsx)("span",{children:e.name}),e.is_default&&(0,h.jsx)(i,{className:"w-4 h-4 text-yellow-500"})]}),(0,h.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,h.jsx)("span",{className:"px-2 py-1 text-xs rounded "+(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"}),(0,h.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:null===(t=$.find(t=>t.value===e.prompt_type))||void 0===t?void 0:t.label})]})]}),(0,h.jsx)("div",{className:"bg-gray-50 p-3 rounded-md mb-4",children:(0,h.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3 font-mono",children:e.prompt_text})}),(0,h.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600 mb-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"font-medium",children:"Temperature"}),(0,h.jsx)("p",{children:e.temperature})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"font-medium",children:"Max Tokens"}),(0,h.jsx)("p",{children:e.max_tokens})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"font-medium",children:"Used"}),(0,h.jsxs)("p",{children:[e.usage_count||0," times"]})]})]}),(0,h.jsxs)("div",{className:"flex space-x-2",children:[(0,h.jsxs)("button",{onClick:()=>(e=>{A(e),C(""),S(""),w(!0)})(e),className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-md hover:bg-green-700 flex items-center justify-center space-x-1",children:[(0,h.jsx)(o.A,{className:"w-4 h-4"}),(0,h.jsx)("span",{children:"Test"})]}),(0,h.jsx)("button",{onClick:()=>(e=>{A(e),T({name:e.name,description:e.description,prompt_text:e.prompt_text,prompt_type:e.prompt_type,temperature:e.temperature,max_tokens:e.max_tokens,is_active:e.is_active,is_default:e.is_default}),j(!0)})(e),className:"bg-blue-600 text-white py-2 px-3 rounded-md hover:bg-blue-700 flex items-center justify-center",children:(0,h.jsx)(c.A,{className:"w-4 h-4"})}),(0,h.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this system prompt?"))try{await x.A.delete(`${y}/api/system-prompts/${e}`),m.Ay.success("System prompt deleted successfully"),I()}catch(t){console.error("Error deleting prompt:",t),m.Ay.error("Failed to delete system prompt")}})(e.id),className:"bg-red-600 text-white py-2 px-3 rounded-md hover:bg-red-700 flex items-center justify-center",children:(0,h.jsx)(d.A,{className:"w-4 h-4"})}),!e.is_default&&(0,h.jsx)("button",{onClick:()=>(async(e,t)=>{try{await x.A.post(`${y}/api/system-prompts/${e}/set-default`),m.Ay.success(`Default ${t} prompt updated`),I()}catch(s){console.error("Error setting default prompt:",s),m.Ay.error("Failed to set default prompt")}})(e.id,e.prompt_type),className:"bg-yellow-600 text-white py-2 px-3 rounded-md hover:bg-yellow-700 flex items-center justify-center",children:(0,h.jsx)(i,{className:"w-4 h-4"})})]})]},e.id)})}),0===e.length&&(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(p.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,h.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No system prompts configured"}),(0,h.jsx)("p",{className:"text-gray-600 mb-4",children:"Add your first system prompt to configure AI behavior"}),(0,h.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,h.jsx)("button",{onClick:F,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"Create Default Prompts"}),(0,h.jsx)("button",{onClick:()=>b(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Add Custom Prompt"})]})]}),(0,h.jsx)(Y,{show:g,onClose:()=>b(!1),onSubmit:async e=>{e.preventDefault();try{await x.A.post(`${y}/api/system-prompts`,M),m.Ay.success("System prompt added successfully"),b(!1),V(),I()}catch(t){console.error("Error adding prompt:",t),m.Ay.error("Failed to add system prompt")}},title:"Add System Prompt"}),(0,h.jsx)(Y,{show:v,onClose:()=>j(!1),onSubmit:async e=>{e.preventDefault();try{await x.A.put(`${y}/api/system-prompts/${k.id}`,M),m.Ay.success("System prompt updated successfully"),j(!1),A(null),V(),I()}catch(t){console.error("Error updating prompt:",t),m.Ay.error("Failed to update system prompt")}},title:"Edit System Prompt",isEdit:!0}),(0,h.jsx)(L,{show:N,onClose:()=>w(!1),prompt:k})]})}},6656:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(5043);const r=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,a.useEffect)(()=>{if(!t)return;const s=t=>{"Escape"===t.key&&(t.preventDefault(),t.stopPropagation(),e())};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[e,t])}},7365:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9855:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=257.eec301be.chunk.js.map