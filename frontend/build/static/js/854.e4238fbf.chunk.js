/*! For license information please see 854.e4238fbf.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkemail_responder_frontend=self.webpackChunkemail_responder_frontend||[]).push([[854],{797:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},1360:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4265:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},4854:(e,s,t)=>{t.r(s),t.d(s,{default:()=>y});var a=t(5043),l=t(797),r=t(7104),c=t(1360),i=t(2626),d=t(5087),n=t(9350),o=t(9292),x=t(4265),m=t(9855),h=t(3768),p=t(6213),g=t(579);const u="https://030d008b-cc85-4bf3-afdd-411b8004d718.preview.emergentagent.com",y=()=>{var e;const[s,t]=(0,a.useState)([]),[y,b]=(0,a.useState)([]),[j,w]=(0,a.useState)(!0),[v,f]=(0,a.useState)(""),[N,k]=(0,a.useState)(""),[A,C]=(0,a.useState)(!1),[S,_]=(0,a.useState)(!1),[E,M]=(0,a.useState)(!1),[L,T]=(0,a.useState)(null),[$,q]=(0,a.useState)({}),[F,K]=(0,a.useState)({title:"",content:"",category:"general",tags:[],keywords:[],is_active:!0});(0,a.useEffect)(()=>{U(),D()},[]);const U=async()=>{try{const e=await p.A.get(`${u}/api/knowledge-base`);t(e.data);const s=[...new Set(e.data.map(e=>e.category))];b(s)}catch(e){console.error("Error fetching articles:",e),h.Ay.error("Failed to load knowledge base articles")}finally{w(!1)}},D=async()=>{try{const e=await p.A.get(`${u}/api/knowledge-base/statistics/overview`);q(e.data)}catch(e){console.error("Error fetching statistics:",e)}},H=()=>{K({title:"",content:"",category:"general",tags:[],keywords:[],is_active:!0})},I=s.filter(e=>{const s=!v||e.title.toLowerCase().includes(v.toLowerCase())||e.content.toLowerCase().includes(v.toLowerCase()),t=!N||e.category===N;return s&&t}),P=e=>{let{show:s,onClose:t,onSubmit:a,title:l,isEdit:r=!1}=e;return s?(0,g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,g.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,g.jsx)("h2",{className:"text-xl font-bold",children:l}),(0,g.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,g.jsxs)("form",{onSubmit:a,className:"space-y-4",children:[(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Title"}),(0,g.jsx)("input",{type:"text",value:F.title,onChange:e=>K({...F,title:e.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Category"}),(0,g.jsxs)("select",{value:F.category,onChange:e=>K({...F,category:e.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[(0,g.jsx)("option",{value:"general",children:"General"}),(0,g.jsx)("option",{value:"product",children:"Product"}),(0,g.jsx)("option",{value:"pricing",children:"Pricing"}),(0,g.jsx)("option",{value:"support",children:"Support"}),(0,g.jsx)("option",{value:"sales",children:"Sales"}),(0,g.jsx)("option",{value:"technical",children:"Technical"}),(0,g.jsx)("option",{value:"industry",children:"Industry"})]})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Content"}),(0,g.jsx)("textarea",{value:F.content,onChange:e=>K({...F,content:e.target.value}),rows:10,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Tags (comma-separated)"}),(0,g.jsx)("input",{type:"text",value:F.tags.join(", "),onChange:e=>(e=>{const s=e.split(",").map(e=>e.trim());K({...F,tags:s})})(e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"tag1, tag2, tag3"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Keywords (comma-separated)"}),(0,g.jsx)("input",{type:"text",value:F.keywords.join(", "),onChange:e=>(e=>{const s=e.split(",").map(e=>e.trim());K({...F,keywords:s})})(e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"keyword1, keyword2, keyword3"})]})]}),(0,g.jsx)("div",{children:(0,g.jsxs)("label",{className:"flex items-center",children:[(0,g.jsx)("input",{type:"checkbox",checked:F.is_active,onChange:e=>K({...F,is_active:e.target.checked}),className:"mr-2"}),"Active"]})}),(0,g.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,g.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 border rounded-md hover:bg-gray-50",children:"Cancel"}),(0,g.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[r?"Update":"Add"," Article"]})]})]})]})}):null},R=e=>{let{show:s,onClose:t,article:a}=e;return s&&a?(0,g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,g.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,g.jsx)("h2",{className:"text-xl font-bold",children:a.title}),(0,g.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,g.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:a.category}),(0,g.jsxs)("span",{children:["Used ",a.usage_count||0," times"]}),(0,g.jsxs)("span",{children:["Created ",new Date(a.created_at).toLocaleDateString()]})]}),(0,g.jsx)("div",{className:"prose max-w-none",children:(0,g.jsx)("div",{className:"whitespace-pre-wrap",children:a.content})}),a.tags&&a.tags.length>0&&(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"font-semibold mb-2",children:"Tags:"}),(0,g.jsx)("div",{className:"flex flex-wrap gap-2",children:a.tags.map((e,s)=>(0,g.jsx)("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm",children:e},s))})]}),a.keywords&&a.keywords.length>0&&(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"font-semibold mb-2",children:"Keywords:"}),(0,g.jsx)("div",{className:"flex flex-wrap gap-2",children:a.keywords.map((e,s)=>(0,g.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-sm",children:e},s))})]})]})]})}):null};return j?(0,g.jsx)("div",{className:"p-6",children:(0,g.jsxs)("div",{className:"animate-pulse",children:[(0,g.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,g.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,g.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]})]})}):(0,g.jsxs)("div",{className:"p-6",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Knowledge Base"}),(0,g.jsx)("p",{className:"text-gray-600",children:"Manage your AI knowledge articles and documentation"})]}),(0,g.jsxs)("div",{className:"flex space-x-3",children:[(0,g.jsx)("input",{type:"file",accept:".json,.csv",onChange:async e=>{const s=e.target.files[0];if(!s)return;const t=new FormData;t.append("file",s);try{await p.A.post(`${u}/api/knowledge-base/bulk-import`,t,{headers:{"Content-Type":"multipart/form-data"}}),h.Ay.success("Articles imported successfully"),U(),D()}catch(a){console.error("Error importing articles:",a),h.Ay.error("Failed to import articles")}e.target.value=""},className:"hidden",id:"bulk-import"}),(0,g.jsxs)("button",{onClick:()=>document.getElementById("bulk-import").click(),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2",children:[(0,g.jsx)(l.A,{className:"w-4 h-4"}),(0,g.jsx)("span",{children:"Import"})]}),(0,g.jsxs)("button",{onClick:async()=>{try{const e=await p.A.get(`${u}/api/knowledge-base/bulk-export`,{responseType:"blob"}),s=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=s,t.setAttribute("download","knowledge-base-export.json"),document.body.appendChild(t),t.click(),t.remove(),window.URL.revokeObjectURL(s),h.Ay.success("Articles exported successfully")}catch(e){console.error("Error exporting articles:",e),h.Ay.error("Failed to export articles")}},className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center space-x-2",children:[(0,g.jsx)(r.A,{className:"w-4 h-4"}),(0,g.jsx)("span",{children:"Export"})]}),(0,g.jsxs)("button",{onClick:()=>C(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,g.jsx)(c.A,{className:"w-4 h-4"}),(0,g.jsx)("span",{children:"Add Article"})]})]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,g.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-sm text-gray-600",children:"Total Articles"}),(0,g.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:$.total_articles||0})]}),(0,g.jsx)(i.A,{className:"w-8 h-8 text-blue-500"})]})}),(0,g.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-sm text-gray-600",children:"Active Articles"}),(0,g.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:$.active_articles||0})]}),(0,g.jsx)(d.A,{className:"w-8 h-8 text-green-500"})]})}),(0,g.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-sm text-gray-600",children:"Categories"}),(0,g.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(e=$.categories)||void 0===e?void 0:e.length)||0})]}),(0,g.jsx)(n.A,{className:"w-8 h-8 text-purple-500"})]})})]}),(0,g.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:(0,g.jsxs)("div",{className:"flex space-x-4",children:[(0,g.jsx)("div",{className:"flex-1",children:(0,g.jsx)("input",{type:"text",placeholder:"Search articles...",value:v,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border rounded-lg"})}),(0,g.jsx)("div",{children:(0,g.jsxs)("select",{value:N,onChange:e=>k(e.target.value),className:"px-4 py-2 border rounded-lg",children:[(0,g.jsx)("option",{value:"",children:"All Categories"}),y.map(e=>(0,g.jsx)("option",{value:e,children:e},e))]})}),(0,g.jsxs)("button",{onClick:async()=>{if(v.trim())try{const e=await p.A.get(`${u}/api/knowledge-base/search`,{params:{query:v,category:N||void 0}});t(e.data)}catch(e){console.error("Error searching articles:",e),h.Ay.error("Failed to search articles")}else U()},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,g.jsx)(o.A,{className:"w-4 h-4"}),(0,g.jsx)("span",{children:"Search"})]})]})}),(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(e=>(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[(0,g.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,g.jsx)("h3",{className:"font-semibold text-gray-900 line-clamp-2",children:e.title}),(0,g.jsx)("span",{className:"px-2 py-1 text-xs rounded "+(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"})]}),(0,g.jsxs)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:[e.content.substring(0,150),"..."]}),(0,g.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[(0,g.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:e.category}),(0,g.jsxs)("span",{children:["Used ",e.usage_count||0," times"]})]}),e.tags&&e.tags.length>0&&(0,g.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map((e,s)=>(0,g.jsx)("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:e},s)),e.tags.length>3&&(0,g.jsxs)("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:["+",e.tags.length-3," more"]})]}),(0,g.jsxs)("div",{className:"flex space-x-2",children:[(0,g.jsxs)("button",{onClick:()=>(e=>{T(e),M(!0)})(e),className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-md hover:bg-blue-700 flex items-center justify-center space-x-1",children:[(0,g.jsx)(d.A,{className:"w-4 h-4"}),(0,g.jsx)("span",{children:"View"})]}),(0,g.jsx)("button",{onClick:()=>(e=>{T(e),K({title:e.title,content:e.content,category:e.category,tags:e.tags||[],keywords:e.keywords||[],is_active:e.is_active}),_(!0)})(e),className:"bg-yellow-600 text-white py-2 px-3 rounded-md hover:bg-yellow-700 flex items-center justify-center",children:(0,g.jsx)(x.A,{className:"w-4 h-4"})}),(0,g.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this knowledge article?"))try{await p.A.delete(`${u}/api/knowledge-base/${e}`),h.Ay.success("Knowledge article deleted successfully"),U(),D()}catch(s){console.error("Error deleting article:",s),h.Ay.error("Failed to delete knowledge article")}})(e.id),className:"bg-red-600 text-white py-2 px-3 rounded-md hover:bg-red-700 flex items-center justify-center",children:(0,g.jsx)(m.A,{className:"w-4 h-4"})})]})]},e.id))}),0===I.length&&(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)(i.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,g.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No articles found"}),(0,g.jsx)("p",{className:"text-gray-600 mb-4",children:v||N?"Try adjusting your search or filter criteria":"Add your first knowledge article to get started"}),(0,g.jsx)("button",{onClick:()=>C(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Add Article"})]}),(0,g.jsx)(P,{show:A,onClose:()=>C(!1),onSubmit:async e=>{e.preventDefault();try{await p.A.post(`${u}/api/knowledge-base`,{...F,tags:F.tags.filter(e=>""!==e.trim()),keywords:F.keywords.filter(e=>""!==e.trim())}),h.Ay.success("Knowledge article added successfully"),C(!1),H(),U(),D()}catch(s){console.error("Error adding article:",s),h.Ay.error("Failed to add knowledge article")}},title:"Add Knowledge Article"}),(0,g.jsx)(P,{show:S,onClose:()=>_(!1),onSubmit:async e=>{e.preventDefault();try{await p.A.put(`${u}/api/knowledge-base/${L.id}`,{...F,tags:F.tags.filter(e=>""!==e.trim()),keywords:F.keywords.filter(e=>""!==e.trim())}),h.Ay.success("Knowledge article updated successfully"),_(!1),T(null),H(),U()}catch(s){console.error("Error updating article:",s),h.Ay.error("Failed to update knowledge article")}},title:"Edit Knowledge Article",isEdit:!0}),(0,g.jsx)(R,{show:E,onClose:()=>M(!1),article:L})]})}},7104:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},9292:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9350:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},9855:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=854.e4238fbf.chunk.js.map