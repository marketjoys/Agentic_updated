/*! For license information please see 723.5ff7ed17.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkemail_responder_frontend=self.webpackChunkemail_responder_frontend||[]).push([[723],{4505:(e,s,t)=>{t.d(s,{A:()=>c,K:()=>n});var a=t(6213);const l="https://24e4a959-d97d-4946-9c07-cd62f1a8669c.preview.emergentagent.com",i=a.A.create({baseURL:l,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{var s;console.log("API Request:",null===(s=e.method)||void 0===s?void 0:s.toUpperCase(),e.url);const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{var s,t;if(console.error("API Error:",(null===(s=e.response)||void 0===s?void 0:s.data)||e.message),401===(null===(t=e.response)||void 0===t?void 0:t.status)){console.log("Received 401 error, attempting token refresh...");if(localStorage.getItem("token"))try{const s=await a.A.post(`${l}/api/auth/refresh`),{access_token:t}=s.data;localStorage.setItem("token",t);const i=e.config;return i.headers.Authorization=`Bearer ${t}`,(0,a.A)(i)}catch(i){console.error("Token refresh failed:",i),localStorage.removeItem("token"),window.location.href="/"}}return Promise.reject(e)});const n={healthCheck:()=>i.get("/api/health"),getProspects:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return i.get(`/api/prospects?skip=${e}&limit=${s}`)},createProspect:e=>i.post("/api/prospects",e),uploadProspects:e=>{const s=new FormData;return s.append("file",e),i.post("/api/prospects/upload",s,{headers:{"Content-Type":"multipart/form-data"}})},getTemplates:()=>i.get("/api/templates"),createTemplate:e=>i.post("/api/templates",e),getTemplate:e=>i.get(`/api/templates/${e}`),updateTemplate:(e,s)=>i.put(`/api/templates/${e}`,s),getCampaigns:()=>i.get("/api/campaigns"),createCampaign:e=>i.post("/api/campaigns",e),getCampaign:e=>i.get(`/api/campaigns/${e}`),sendCampaign:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("\ud83d\udce1 sendCampaign called with id:",e,"sendRequest:",s);const t={send_immediately:!0,email_provider_id:"",max_emails:1e3,schedule_type:"immediate",start_time:null,follow_up_enabled:!0,follow_up_intervals:[3,7,14],follow_up_templates:[],...s};return console.log("\ud83d\udce4 Final send request:",t),console.log("\ud83c\udfaf Making POST request to:",`/api/campaigns/${e}/send`),i.post(`/api/campaigns/${e}/send`,t)},getIntents:()=>i.get("/api/intents"),createIntent:e=>i.post("/api/intents",e),getIntent:e=>i.get(`/api/intents/${e}`),updateIntent:(e,s)=>i.put(`/api/intents/${e}`,s),deleteIntent:e=>i.delete(`/api/intents/${e}`),getCampaignAnalytics:e=>i.get(`/api/analytics/campaign/${e}`),getLists:()=>i.get("/api/lists"),createList:e=>i.post("/api/lists",e),getList:e=>i.get(`/api/lists/${e}`),updateList:(e,s)=>i.put(`/api/lists/${e}`,s),deleteList:e=>i.delete(`/api/lists/${e}`),addProspectsToList:(e,s)=>i.post(`/api/lists/${e}/prospects`,{prospect_ids:s}),removeProspectsFromList:(e,s)=>i.delete(`/api/lists/${e}/prospects`,{data:{prospect_ids:s}}),startEmailProcessing:()=>i.post("/api/email-processing/start"),stopEmailProcessing:()=>i.post("/api/email-processing/stop"),getProcessingStatus:()=>i.get("/api/email-processing/status"),getProcessingAnalytics:()=>i.get("/api/email-processing/analytics"),testIntentClassification:e=>i.post("/api/email-processing/test-classification",e),testResponseGeneration:e=>i.post("/api/email-processing/test-response",e),getThreads:()=>i.get("/api/threads"),getThread:e=>i.get(`/api/threads/${e}`),getThreadByProspect:e=>i.get(`/api/threads/prospect/${e}`),addMessageToThread:(e,s)=>i.post(`/api/threads/${e}/messages`,s),getEmailProviders:()=>i.get("/api/email-providers"),createEmailProvider:e=>i.post("/api/email-providers",e),updateEmailProvider:(e,s)=>i.put(`/api/email-providers/${e}`,s),deleteEmailProvider:e=>i.delete(`/api/email-providers/${e}`),setDefaultEmailProvider:e=>i.post(`/api/email-providers/${e}/set-default`),testEmailProvider:e=>i.post(`/api/email-providers/${e}/test-connection`),getFollowUpDashboard:()=>i.get("/api/follow-up-monitoring/dashboard"),getImapScanStatus:()=>i.get("/api/follow-up-monitoring/imap-scan-status"),getImapLogs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24;return i.get(`/api/follow-up-monitoring/imap-logs?hours=${e}`)},getProspectResponses:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return i.get(`/api/follow-up-monitoring/prospect-responses?days=${e}`)},analyzeProspectThread:e=>i.get(`/api/follow-up-monitoring/thread-analysis/${e}`),forceStopFollowUp:e=>i.post(`/api/follow-up-monitoring/force-stop-follow-up/${e}`),restartFollowUp:e=>i.post(`/api/follow-up-monitoring/restart-follow-up/${e}`),getFollowUpHealthCheck:()=>i.get("/api/follow-up-monitoring/health-check"),startFollowUpEngine:()=>i.post("/api/follow-up-engine/start"),stopFollowUpEngine:()=>i.post("/api/follow-up-engine/stop"),getFollowUpEngineStatus:()=>i.get("/api/follow-up-engine/status"),getFollowUpStatistics:()=>i.get("/api/follow-up-engine/statistics"),processEmailResponse:e=>i.post("/api/follow-up-engine/process-response",e)},c=i},4919:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},5088:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6723:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var a=t(5043),l=t(5327),i=t(5087),n=t(4669),c=t(4919),r=t(5088),d=t(9742),o=t(4505),p=t(3768),m=t(579);const x=()=>{const[e,s]=(0,a.useState)([]),[t,x]=(0,a.useState)(!0),[h,g]=(0,a.useState)(""),[u,j]=(0,a.useState)(null);(0,a.useEffect)(()=>{f()},[]),(0,a.useEffect)(()=>{h&&N(h)},[h]);const f=async()=>{try{const e=await o.K.getCampaigns();s(e.data),e.data.length>0&&g(e.data[0].id)}catch(e){p.Ay.error("Failed to load campaigns")}finally{x(!1)}},N=async e=>{try{const s=await o.K.getCampaignAnalytics(e);j(s.data)}catch(s){p.Ay.error("Failed to load analytics")}},v=(e,s)=>0===s?0:(e/s*100).toFixed(1);return t?(0,m.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,m.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,m.jsxs)("div",{className:"space-y-6",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsx)("h1",{className:"text-3xl font-bold text-secondary-900",children:"Analytics"}),(0,m.jsx)("div",{className:"flex items-center space-x-4",children:(0,m.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"input w-64",children:[(0,m.jsx)("option",{value:"",children:"Select Campaign"}),e.map(e=>(0,m.jsx)("option",{value:e.id,children:e.name},e.id))]})})]}),u?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,m.jsx)("div",{className:"card",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-secondary-600",children:"Emails Sent"}),(0,m.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:u.total_sent})]}),(0,m.jsx)("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,m.jsx)(l.A,{className:"h-5 w-5 text-blue-600"})})]}),(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsxs)("span",{className:"text-sm text-secondary-500",children:[u.total_failed," failed"]})})]})}),(0,m.jsx)("div",{className:"card",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-secondary-600",children:"Open Rate"}),(0,m.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[v(u.total_opened,u.total_sent),"%"]})]}),(0,m.jsx)("div",{className:"h-10 w-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,m.jsx)(i.A,{className:"h-5 w-5 text-green-600"})})]}),(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsxs)("span",{className:"text-sm text-secondary-500",children:[u.total_opened," opened"]})})]})}),(0,m.jsx)("div",{className:"card",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-secondary-600",children:"Reply Rate"}),(0,m.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[v(u.total_replied,u.total_sent),"%"]})]}),(0,m.jsx)("div",{className:"h-10 w-10 bg-purple-100 rounded-full flex items-center justify-center",children:(0,m.jsx)(n.A,{className:"h-5 w-5 text-purple-600"})})]}),(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsxs)("span",{className:"text-sm text-secondary-500",children:[u.total_replied," replied"]})})]})}),(0,m.jsx)("div",{className:"card",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-secondary-600",children:"Delivery Rate"}),(0,m.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:[v(u.total_sent,u.total_sent+u.total_failed),"%"]})]}),(0,m.jsx)("div",{className:"h-10 w-10 bg-orange-100 rounded-full flex items-center justify-center",children:(0,m.jsx)(c.A,{className:"h-5 w-5 text-orange-600"})})]}),(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsxs)("span",{className:"text-sm text-secondary-500",children:[u.total_sent+u.total_failed," attempted"]})})]})})]}),(0,m.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,m.jsxs)("div",{className:"card",children:[(0,m.jsx)("div",{className:"card-header",children:(0,m.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"Email Performance"})}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("div",{className:"space-y-4",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"Sent"}),(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsx)("div",{className:"w-32 bg-secondary-200 rounded-full h-2",children:(0,m.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"100%"}})}),(0,m.jsx)("span",{className:"text-sm font-medium",children:u.total_sent})]})]}),(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"Opened"}),(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsx)("div",{className:"w-32 bg-secondary-200 rounded-full h-2",children:(0,m.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${v(u.total_opened,u.total_sent)}%`}})}),(0,m.jsx)("span",{className:"text-sm font-medium",children:u.total_opened})]})]}),(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"Replied"}),(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsx)("div",{className:"w-32 bg-secondary-200 rounded-full h-2",children:(0,m.jsx)("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${v(u.total_replied,u.total_sent)}%`}})}),(0,m.jsx)("span",{className:"text-sm font-medium",children:u.total_replied})]})]}),(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"Failed"}),(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsx)("div",{className:"w-32 bg-secondary-200 rounded-full h-2",children:(0,m.jsx)("div",{className:"bg-red-600 h-2 rounded-full",style:{width:`${v(u.total_failed,u.total_sent+u.total_failed)}%`}})}),(0,m.jsx)("span",{className:"text-sm font-medium",children:u.total_failed})]})]})]})})]}),(0,m.jsxs)("div",{className:"card",children:[(0,m.jsx)("div",{className:"card-header",children:(0,m.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"Campaign Summary"})}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("div",{className:"space-y-4",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"Total Emails"}),(0,m.jsx)("span",{className:"text-sm font-medium",children:u.total_sent+u.total_failed})]}),(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"Success Rate"}),(0,m.jsxs)("span",{className:"text-sm font-medium text-green-600",children:[v(u.total_sent,u.total_sent+u.total_failed),"%"]})]}),(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"Engagement Rate"}),(0,m.jsxs)("span",{className:"text-sm font-medium text-purple-600",children:[v(u.total_opened+u.total_replied,u.total_sent),"%"]})]}),(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"Conversion Rate"}),(0,m.jsxs)("span",{className:"text-sm font-medium text-orange-600",children:[v(u.total_replied,u.total_sent),"%"]})]})]})})]})]}),(0,m.jsxs)("div",{className:"card",children:[(0,m.jsx)("div",{className:"card-header",children:(0,m.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"Insights & Recommendations"})}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,m.jsxs)("div",{className:"space-y-3",children:[(0,m.jsx)("h4",{className:"font-medium text-secondary-900",children:"Performance Insights"}),u.total_opened>0&&(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsx)("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"Good open rate indicates effective subject lines"})]}),u.total_replied>0&&(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsx)("div",{className:"h-2 w-2 bg-purple-500 rounded-full"}),(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"Replies indicate strong content relevance"})]}),u.total_failed>0&&(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsx)("div",{className:"h-2 w-2 bg-red-500 rounded-full"}),(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"Check email addresses and SMTP settings"})]})]}),(0,m.jsxs)("div",{className:"space-y-3",children:[(0,m.jsx)("h4",{className:"font-medium text-secondary-900",children:"Optimization Tips"}),(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsx)(r.A,{className:"h-4 w-4 text-secondary-400"}),(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"Send times affect open rates"})]}),(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsx)(d.A,{className:"h-4 w-4 text-secondary-400"}),(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"A/B test different subject lines"})]}),(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsx)(c.A,{className:"h-4 w-4 text-secondary-400"}),(0,m.jsx)("span",{className:"text-sm text-secondary-600",children:"Personalization improves engagement"})]})]})]})})]})]}):(0,m.jsx)("div",{className:"card",children:(0,m.jsxs)("div",{className:"card-body text-center py-12",children:[(0,m.jsx)(d.A,{className:"h-12 w-12 text-secondary-400 mx-auto mb-4"}),(0,m.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 mb-2",children:"No Data Available"}),(0,m.jsx)("p",{className:"text-secondary-600",children:0===e.length?"Create a campaign to view analytics":"Select a campaign to view its analytics"})]})})]})}}}]);
//# sourceMappingURL=723.5ff7ed17.chunk.js.map