/*! For license information please see 177.b1a5685a.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkemail_responder_frontend=self.webpackChunkemail_responder_frontend||[]).push([[177],{1360:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3177:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(5043),l=s(3216),i=s(1360);const r=(0,s(1639).A)("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var o=s(7118),n=s(1884),c=s(9350),d=s(5087),p=s(4265),m=s(9855),x=s(614),h=s(9292),u=s(4505),g=s(3768),b=s(579);const v=e=>{let{onClose:t,onSubmit:s}=e;const[l,i]=(0,a.useState)({name:"",description:"",color:"#3B82F6",tags:[]}),[r,o]=(0,a.useState)(""),n=()=>{r.trim()&&!l.tags.includes(r.trim())&&(i({...l,tags:[...l.tags,r.trim()]}),o(""))};return(0,b.jsx)("div",{className:"modal-overlay",children:(0,b.jsxs)("div",{className:"modal-content",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Create New List"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Create a new prospect list"})]}),(0,b.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l.name.trim()?s(l):g.Ay.error("List name is required")},className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"List Name *"}),(0,b.jsx)("input",{type:"text",value:l.name,onChange:e=>i({...l,name:e.target.value}),className:"input",required:!0,placeholder:"Technology Companies"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:l.description,onChange:e=>i({...l,description:e.target.value}),className:"input h-20 resize-none",placeholder:"Description of this prospect list..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,b.jsx)("div",{className:"flex space-x-2",children:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6B7280"].map(e=>(0,b.jsx)("button",{type:"button",onClick:()=>i({...l,color:e}),className:"w-8 h-8 rounded-full border-2 transition-colors "+(l.color===e?"border-gray-400":"border-gray-200"),style:{backgroundColor:e}},e))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,b.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),n())},className:"input flex-1",placeholder:"Add a tag..."}),(0,b.jsx)("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Add"})]}),l.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:l.tags.map((e,t)=>(0,b.jsxs)("span",{className:"badge badge-info flex items-center space-x-1",children:[(0,b.jsx)("span",{children:e}),(0,b.jsx)("button",{type:"button",onClick:()=>{return t=e,void i({...l,tags:l.tags.filter(e=>e!==t)});var t},className:"text-blue-600 hover:text-blue-800",children:(0,b.jsx)(x.A,{className:"h-3 w-3"})})]},t))})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,b.jsx)("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create List"})]})]})]})})},j=e=>{let{list:t,onClose:s,onSubmit:l}=e;const[i,r]=(0,a.useState)({name:(null===t||void 0===t?void 0:t.name)||"",description:(null===t||void 0===t?void 0:t.description)||"",color:(null===t||void 0===t?void 0:t.color)||"#3B82F6",tags:(null===t||void 0===t?void 0:t.tags)||[]}),[o,n]=(0,a.useState)(""),c=()=>{o.trim()&&!i.tags.includes(o.trim())&&(r({...i,tags:[...i.tags,o.trim()]}),n(""))};return t?(0,b.jsx)("div",{className:"modal-overlay",children:(0,b.jsxs)("div",{className:"modal-content",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Edit List"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Update list information"})]}),(0,b.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.name.trim()?l(i):g.Ay.error("List name is required")},className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"List Name *"}),(0,b.jsx)("input",{type:"text",value:i.name,onChange:e=>r({...i,name:e.target.value}),className:"input",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:i.description,onChange:e=>r({...i,description:e.target.value}),className:"input h-20 resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,b.jsx)("div",{className:"flex space-x-2",children:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6B7280"].map(e=>(0,b.jsx)("button",{type:"button",onClick:()=>r({...i,color:e}),className:"w-8 h-8 rounded-full border-2 transition-colors "+(i.color===e?"border-gray-400":"border-gray-200"),style:{backgroundColor:e}},e))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,b.jsx)("input",{type:"text",value:o,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),c())},className:"input flex-1",placeholder:"Add a tag..."}),(0,b.jsx)("button",{type:"button",onClick:c,className:"btn btn-secondary",children:"Add"})]}),i.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:i.tags.map((e,t)=>(0,b.jsxs)("span",{className:"badge badge-info flex items-center space-x-1",children:[(0,b.jsx)("span",{children:e}),(0,b.jsx)("button",{type:"button",onClick:()=>{return t=e,void r({...i,tags:i.tags.filter(e=>e!==t)});var t},className:"text-blue-600 hover:text-blue-800",children:(0,b.jsx)(x.A,{className:"h-3 w-3"})})]},t))})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,b.jsx)("button",{type:"button",onClick:s,className:"btn btn-secondary",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update List"})]})]})]})}):null},y=e=>{let{list:t,prospects:s,onClose:l,onSubmit:i}=e;const[r,o]=(0,a.useState)([]),[n,c]=(0,a.useState)("");console.log("AddProspectsToListModal rendered with:",{listId:null===t||void 0===t?void 0:t.id,prospectsCount:null===s||void 0===s?void 0:s.length,selectedCount:r.length});const d=e=>{console.log("Toggling prospect ID:",e,"Current selected:",r),o(t=>{let s;return t.includes(e)?(s=t.filter(t=>t!==e),console.log("Removing prospect:",e)):(s=[...t,e],console.log("Adding prospect:",e)),console.log("New selected array:",s),s})},p=(null===s||void 0===s?void 0:s.filter(e=>{var s;if(null!==(s=e.list_ids)&&void 0!==s&&s.includes(t.id))return!1;if(!n)return!0;const a=n.toLowerCase();return(e.first_name||"").toLowerCase().includes(a)||(e.last_name||"").toLowerCase().includes(a)||(e.email||"").toLowerCase().includes(a)||(e.company||"").toLowerCase().includes(a)}))||[];return console.log("Filtered prospects count:",p.length),t?(0,b.jsx)("div",{className:"modal-overlay",children:(0,b.jsxs)("div",{className:"modal-content max-w-4xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:["Add Prospects to ",t.name]}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Select prospects to add to this list"})]}),(0,b.jsx)("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600",type:"button",children:(0,b.jsx)(x.A,{className:"h-5 w-5"})})]})}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search prospects...",value:n,onChange:e=>c(e.target.value),className:"input pl-10"})]})}),(0,b.jsxs)("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded text-sm",children:[(0,b.jsx)("strong",{children:"Debug Info:"})," ",(null===s||void 0===s?void 0:s.length)||0," total, ",p.length," filtered, ",r.length," selected",r.length>0&&(0,b.jsxs)("div",{className:"mt-1 text-xs",children:["Selected IDs: [",r.join(", "),"]"]})]}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("button",{type:"button",onClick:()=>{p.length>0&&d(p[0].id)},className:"btn btn-secondary text-sm",children:"Test: Toggle First Prospect"})}),(0,b.jsx)("div",{className:"max-h-96 overflow-y-auto mb-6 border border-gray-200 rounded",children:0===p.length?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:n?"No prospects match your search":"No prospects available to add to this list"}):(0,b.jsx)("div",{className:"divide-y divide-gray-200",children:p.map((e,t)=>{const s=r.includes(e.id);return console.log(`Prospect ${e.id} selected state:`,s),(0,b.jsx)("div",{className:"p-4 transition-colors "+(s?"bg-blue-50 border-l-4 border-l-blue-500":"bg-white hover:bg-gray-50"),children:(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,b.jsx)("div",{className:"flex items-center h-5",children:(0,b.jsx)("input",{type:"checkbox",id:`prospect-${e.id}`,checked:s,onClick:t=>((e,t)=>{e.preventDefault(),e.stopPropagation(),console.log("Checkbox clicked for prospect:",t),d(t)})(t,e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer"})}),(0,b.jsxs)("label",{htmlFor:`prospect-${e.id}`,className:"flex-1 cursor-pointer",children:[(0,b.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name||""," ",e.last_name||"",!e.first_name&&!e.last_name&&"Unnamed Prospect"]}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[e.email||"No email"," \u2022 ",e.company||"No company"]}),(0,b.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["ID: ",e.id," | Index: ",t," | Selected: ",s?"YES":"NO"]})]})]})},e.id)})})}),(0,b.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-blue-800",children:[r.length," prospect(s) selected"]}),r.length>0&&(0,b.jsxs)("div",{className:"text-xs text-blue-600 mt-2 font-mono",children:["Selected IDs: [",r.join(", "),"]"]})]}),(0,b.jsx)("form",{onSubmit:e=>{e.preventDefault(),0!==r.length?(console.log("Submitting selected prospects:",r),i(r)):g.Ay.error("Please select at least one prospect")},children:(0,b.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,b.jsx)("button",{type:"button",onClick:l,className:"btn btn-secondary",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:0===r.length,children:["Add ",r.length," Prospect(s)"]})]})})]})]})}):(console.log("No list provided to modal"),null)},f=()=>{const e=(0,l.Zp)(),[t,s]=(0,a.useState)([]),[x,h]=(0,a.useState)([]),[f,N]=(0,a.useState)(!0),[w,C]=(0,a.useState)(!1),[k,A]=(0,a.useState)(null),[S,P]=(0,a.useState)(!1),[L,F]=(0,a.useState)(!1);(0,a.useEffect)(()=>{$()},[]);const $=async()=>{try{const[e,t]=await Promise.all([u.K.getLists(),u.K.getProspects()]);s(e.data||[]),h(t.data||[])}catch(e){console.error("Failed to load data:",e),g.Ay.error("Failed to load data")}finally{N(!1)}};return f?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"loading-spinner mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading lists..."})]})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold gradient-text",children:"Prospect Lists"}),(0,b.jsx)("p",{className:"text-gray-600 mt-2",children:"Organize prospects into targeted lists"})]}),(0,b.jsxs)("button",{onClick:()=>C(!0),className:"btn btn-primary flex items-center space-x-2",children:[(0,b.jsx)(i.A,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Create List"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsx)("div",{className:"stat-card",children:(0,b.jsx)("div",{className:"card-body",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Lists"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),(0,b.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-blue-500 to-blue-600",children:(0,b.jsx)(r,{className:"h-5 w-5 text-white"})})]})})}),(0,b.jsx)("div",{className:"stat-card",children:(0,b.jsx)("div",{className:"card-body",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Prospects"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-emerald-600",children:x.length})]}),(0,b.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-emerald-500 to-emerald-600",children:(0,b.jsx)(o.A,{className:"h-5 w-5 text-white"})})]})})}),(0,b.jsx)("div",{className:"stat-card",children:(0,b.jsx)("div",{className:"card-body",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Avg. List Size"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(()=>{if(!t||0===t.length)return 0;const e=t.reduce((e,t)=>e+(t.prospect_count||0),0);return Math.round(e/t.length)})()})]}),(0,b.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-purple-500 to-purple-600",children:(0,b.jsx)(n.A,{className:"h-5 w-5 text-white"})})]})})}),(0,b.jsx)("div",{className:"stat-card",children:(0,b.jsx)("div",{className:"card-body",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Tags"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:(()=>{if(!t||0===t.length)return 0;const e=t.flatMap(e=>e.tags||[]);return new Set(e).size})()})]}),(0,b.jsx)("div",{className:"icon-wrapper bg-gradient-to-r from-orange-500 to-orange-600",children:(0,b.jsx)(c.A,{className:"h-5 w-5 text-white"})})]})})})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(t=>(0,b.jsx)("div",{className:"card card-hover",children:(0,b.jsxs)("div",{className:"card-body",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:t.color||"#3B82F6"}}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:t.name}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:t.description||""})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("button",{onClick:()=>e(`/lists/${t.id}`),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"View List Details",children:(0,b.jsx)(d.A,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>(e=>{A(e),F(!0)})(t),className:"p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Add Prospects",children:(0,b.jsx)(n.A,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>{A(t),P(!0)},className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:(0,b.jsx)(p.A,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this list?"))try{await u.K.deleteList(e),g.Ay.success("List deleted successfully"),await $()}catch(t){console.error("Failed to delete list:",t),g.Ay.error("Failed to delete list")}})(t.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:(0,b.jsx)(m.A,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(o.A,{className:"h-4 w-4 text-gray-500"}),(0,b.jsxs)("span",{className:"text-sm text-gray-600",children:[t.prospect_count||0," prospects"]})]}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:t.created_at?new Date(t.created_at).toLocaleDateString():""})]}),t.tags&&t.tags.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.tags.slice(0,3).map((e,t)=>(0,b.jsx)("span",{className:"badge badge-info text-xs",children:e},t)),t.tags.length>3&&(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["+",t.tags.length-3]})]})]})},t.id))}),w&&(0,b.jsx)(v,{onClose:()=>C(!1),onSubmit:async e=>{try{await u.K.createList(e),g.Ay.success("List created successfully"),C(!1),await $()}catch(t){console.error("Failed to create list:",t),g.Ay.error("Failed to create list")}}}),S&&k&&(0,b.jsx)(j,{list:k,onClose:()=>{P(!1),A(null)},onSubmit:async e=>{try{await u.K.updateList(k.id,e),g.Ay.success("List updated successfully"),P(!1),A(null),await $()}catch(t){console.error("Failed to update list:",t),g.Ay.error("Failed to update list")}}}),L&&k&&(0,b.jsx)(y,{list:k,prospects:x,onClose:()=>{F(!1),A(null)},onSubmit:e=>(async(e,t)=>{try{console.log("\ud83c\udfaf Adding prospects to list:",e,t);const s=await u.K.addProspectsToList(e,t);console.log("\u2705 Add prospects result:",s),g.Ay.success(`Successfully added ${t.length} prospect(s) to list!`,{duration:4e3,position:"top-right"}),await $(),F(!1),A(null),console.log("\u2705 Modal closed and data reloaded")}catch(s){console.error("\u274c Error adding prospects:",s),g.Ay.error(`Failed to add prospects to list: ${s.message||s}`,{duration:4e3,position:"top-right"})}})(k.id,e)})]})}},4265:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},4505:(e,t,s)=>{s.d(t,{A:()=>o,K:()=>r});var a=s(6213);const l="https://030d008b-cc85-4bf3-afdd-411b8004d718.preview.emergentagent.com",i=a.A.create({baseURL:l,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{var t;console.log("API Request:",null===(t=e.method)||void 0===t?void 0:t.toUpperCase(),e.url);const s=localStorage.getItem("token");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{var t,s;if(console.error("API Error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),401===(null===(s=e.response)||void 0===s?void 0:s.status)){console.log("Received 401 error, attempting token refresh...");if(localStorage.getItem("token"))try{const t=await a.A.post(`${l}/api/auth/refresh`),{access_token:s}=t.data;localStorage.setItem("token",s);const i=e.config;return i.headers.Authorization=`Bearer ${s}`,(0,a.A)(i)}catch(i){console.error("Token refresh failed:",i),localStorage.removeItem("token"),window.location.href="/"}}return Promise.reject(e)});const r={healthCheck:()=>i.get("/api/health"),getProspects:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return i.get(`/api/prospects?skip=${e}&limit=${t}`)},createProspect:e=>i.post("/api/prospects",e),uploadProspects:e=>{const t=new FormData;return t.append("file",e),i.post("/api/prospects/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},getTemplates:()=>i.get("/api/templates"),createTemplate:e=>i.post("/api/templates",e),getTemplate:e=>i.get(`/api/templates/${e}`),updateTemplate:(e,t)=>i.put(`/api/templates/${e}`,t),getCampaigns:()=>i.get("/api/campaigns"),createCampaign:e=>i.post("/api/campaigns",e),getCampaign:e=>i.get(`/api/campaigns/${e}`),sendCampaign:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("\ud83d\udce1 sendCampaign called with id:",e,"sendRequest:",t);const s={send_immediately:!0,email_provider_id:"",max_emails:1e3,schedule_type:"immediate",start_time:null,follow_up_enabled:!0,follow_up_intervals:[3,7,14],follow_up_templates:[],...t};return console.log("\ud83d\udce4 Final send request:",s),console.log("\ud83c\udfaf Making POST request to:",`/api/campaigns/${e}/send`),i.post(`/api/campaigns/${e}/send`,s)},getIntents:()=>i.get("/api/intents"),createIntent:e=>i.post("/api/intents",e),getIntent:e=>i.get(`/api/intents/${e}`),updateIntent:(e,t)=>i.put(`/api/intents/${e}`,t),deleteIntent:e=>i.delete(`/api/intents/${e}`),getCampaignAnalytics:e=>i.get(`/api/analytics/campaign/${e}`),getLists:()=>i.get("/api/lists"),createList:e=>i.post("/api/lists",e),getList:e=>i.get(`/api/lists/${e}`),updateList:(e,t)=>i.put(`/api/lists/${e}`,t),deleteList:e=>i.delete(`/api/lists/${e}`),addProspectsToList:(e,t)=>i.post(`/api/lists/${e}/prospects`,{prospect_ids:t}),removeProspectsFromList:(e,t)=>i.delete(`/api/lists/${e}/prospects`,{data:{prospect_ids:t}}),startEmailProcessing:()=>i.post("/api/email-processing/start"),stopEmailProcessing:()=>i.post("/api/email-processing/stop"),getProcessingStatus:()=>i.get("/api/email-processing/status"),getProcessingAnalytics:()=>i.get("/api/email-processing/analytics"),testIntentClassification:e=>i.post("/api/email-processing/test-classification",e),testResponseGeneration:e=>i.post("/api/email-processing/test-response",e),getThreads:()=>i.get("/api/threads"),getThread:e=>i.get(`/api/threads/${e}`),getThreadByProspect:e=>i.get(`/api/threads/prospect/${e}`),addMessageToThread:(e,t)=>i.post(`/api/threads/${e}/messages`,t),getEmailProviders:()=>i.get("/api/email-providers"),createEmailProvider:e=>i.post("/api/email-providers",e),updateEmailProvider:(e,t)=>i.put(`/api/email-providers/${e}`,t),deleteEmailProvider:e=>i.delete(`/api/email-providers/${e}`),setDefaultEmailProvider:e=>i.post(`/api/email-providers/${e}/set-default`),testEmailProvider:e=>i.post(`/api/email-providers/${e}/test-connection`),getFollowUpDashboard:()=>i.get("/api/follow-up-monitoring/dashboard"),getImapScanStatus:()=>i.get("/api/follow-up-monitoring/imap-scan-status"),getImapLogs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24;return i.get(`/api/follow-up-monitoring/imap-logs?hours=${e}`)},getProspectResponses:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return i.get(`/api/follow-up-monitoring/prospect-responses?days=${e}`)},analyzeProspectThread:e=>i.get(`/api/follow-up-monitoring/thread-analysis/${e}`),forceStopFollowUp:e=>i.post(`/api/follow-up-monitoring/force-stop-follow-up/${e}`),restartFollowUp:e=>i.post(`/api/follow-up-monitoring/restart-follow-up/${e}`),getFollowUpHealthCheck:()=>i.get("/api/follow-up-monitoring/health-check"),startFollowUpEngine:()=>i.post("/api/follow-up-engine/start"),stopFollowUpEngine:()=>i.post("/api/follow-up-engine/stop"),getFollowUpEngineStatus:()=>i.get("/api/follow-up-engine/status"),getFollowUpStatistics:()=>i.get("/api/follow-up-engine/statistics"),processEmailResponse:e=>i.post("/api/follow-up-engine/process-response",e)},o=i},9292:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9350:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},9855:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=177.b1a5685a.chunk.js.map